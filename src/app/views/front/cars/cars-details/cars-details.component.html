

              <!doctype html>
<html lang="en">

  <head>
    <title>CarRental &mdash; Free Website Template by Colorlib</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



  </head>

  <body>


    <div class="site-wrap" id="home-section">

      <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
          <div class="site-mobile-menu-close mt-3">
            <span class="icon-close2 js-menu-toggle"></span>
          </div>
        </div>
        <div class="site-mobile-menu-body"></div>
      </div>



      <header class="site-navbar site-navbar-target" role="banner">

        <div class="container">
          <div class="row align-items-center position-relative">

            <div class="col-3">
              <div class="site-logo">
                <a href="index.html"><strong>TawSila</strong></a>
              </div>
            </div>

            <div class="col-9  text-right">

              <span class="d-inline-block d-lg-none"><a href="#" class=" site-menu-toggle js-menu-toggle py-5 "><span class="icon-menu h3 text-black"></span></a></span>

              <nav class="site-navigation text-right ml-auto d-none d-lg-block" role="navigation">
                <ul class="site-menu main-menu js-clone-nav ml-auto ">
                  <li class="active"><a href="home" class="nav-link">Home</a></li>
                  <li><a  [routerLink]="['/cars/list'] "  class="nav-link">Cars</a></li>

                  <li><a [routerLink]="['/favoris']"  class="nav-link">Favoris</a></li>
                  <li><a [routerLink]="['/profile/getprofile', userId]"  class="nav-link">Profile</a></li>

                </ul>
              </nav>
            </div>


          </div>
        </div>

      </header>




      <div class="site-section">
        <div class="container">



        </div>
      </div>

      <div class="site-section">
        <div class="container">
          <div class="row align-items-center" *ngIf="car" >
            <div class="col-lg-7 text-center order-lg-2">
              <div class="img-wrap-1 mb-5">
                <img [src]="'http://localhost:5000/uploads/' + car.image" alt="Car Image"  class="img-fluid">
              </div>
            </div>
            <div class="col-lg-4 ml-auto order-lg-1">
              <h3 class="mb-4 section-heading"><strong>You can easily avail our promo for renting a car.</strong></h3>
              <div class="listing-contents h-100">
                <h3>{{car.model}} </h3>
                <div class="rent-price">
                  <strong>{{car.seatPrice}} DT </strong><span class="mx-1">/</span>Seat
                </div>
                <div class="d-block d-md-flex mb-3 border-bottom pb-3">
                  <div class="listing-feature pr-4">
                    <span class="caption">Available seat :</span>
                    <span class="number">{{car.seatAvailable}}</span>
                  </div>
                  <div class="listing-feature pr-4">
                    <span class="caption">Matricule :</span>
                    <span class="number">{{car.matricule}}</span>
                  </div>
                  <div class="listing-feature pr-4">
                    <span class="caption">Status :</span>
                    <span class="number">{{car.status}}</span>
                  </div>
                </div>



                <div>
                  <span class="caption">Departure Date & Time :</span>
                  <p> <span class="d-block font-weight-bold">{{ car.departureDateTime | date: 'MMM d, y' }}</span>
                    <small>{{ car.departureDateTime | date: 'h:mm a' }}</small></p>


                </div>

              </div>
            </div>
          </div>
        </div>
      </div>



    <div class="site-section bg-light">
      <div class="container">
        <div class="row">
          <div class="col-lg-7">
            <h2 class="section-heading"><strong>Add Comments</strong></h2>

            <div class="container my-5">
              <div class="row">
                <div class="col-md-6 col-lg-8">
                  <form (ngSubmit)="addComment()" #commentForm="ngForm">
                    <div class="form-group">
                      <textarea
                        id="commentContent"
                        name="commentContent"
                        [(ngModel)]="newComment.content"
                        class="form-control"
                        rows="4"
                        required
                      ></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Comment</button>
                  </form>
                </div>
              </div>
              <hr>
              <h3>Commentaires</h3>
              <div *ngFor="let comment of comments" class="commentaire-container">
                <div class="avatar-container">
                  <img src="../../../../../assets/images1/R.jpg" alt="User Avatar">
                </div>
                <div class="commentaire-text">
                  <h5 class="username">{{comment.user.username}}</h5>
                  <p>{{comment?.content}}</p>
                  <p>Date: {{comment?.datecreation}}</p>

                  <!-- Show textarea only for the selected comment -->
                  <div *ngIf="selectedComment && selectedComment._id === comment._id">
                    <textarea
                      id="updateCommentContent"
                      name="updateCommentContent"
                      [(ngModel)]="selectedComment.content"
                      class="form-control"
                      rows="4"
                      required
                    ></textarea>
                    <hr>
                    <button (click)="updateComment()" class="update-button2 btn">Done</button>
                    <button  class=" btn"></button>

                  </div>
                  <hr>
                  <!-- Assuming you have an *ngIf directive to check if the user is logged in -->
<div *ngIf="userId">

  <!-- Assuming you have a *ngIf directive to check if the current user is the same as the user who added the comment -->
  <button *ngIf="userId === comment.user._id" (click)="selectCommentForUpdate(comment._id!)" class="update-button btn">   Update   </button>
  <button  class=" btn"></button>

  <button *ngIf="userId === comment.user._id" (click)="deleteComment(comment?._id)" class="delete-button btn">Delete</button>

</div>



                </div>
              </div>
            </div>



          </div>
        </div>



      </div>
    </div>








      <footer class="site-footer">
        <div class="container">
          <div class="row">


          </div>
          <div class="row pt-5 mt-5 text-center">
            <div class="col-md-12">
              <div class="border-top pt-5">
                <p>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart text-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >TawSsila</a>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              </p>
              </div>
            </div>

          </div>
        </div>
      </footer>

    </div>



  </body>

</html>












